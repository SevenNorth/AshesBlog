---
title: 代码压缩
tags: []
categories:
  - []
copyright: true
date: 2022-05-11 06:48:19
---

## JS代码压缩

内置了`uglifyjs-webpack-plugin`

<!-- more -->

## CSS文件的压缩

使用`optimize-css-assets-webpack-plugin`，同时使用`cssnano`

```js
module.exports = {
  // ....
  plugins: [
    new OptimizeCSSAssetsPlugin({
      assetNameRegExp: /\.css$/g,
      cssProcessor: require('cssnano'),
    })
  ]
};
```

## HTML文件的压缩

修改`html-webpack-plugin`，设置压缩参数

```js
module.exports = {
  // ....
  plugins: [
    new HtmlWebpackPlugin({
      template: path.join(__dirname, 'src/serach.html'),
      filename: 'search.html',
      chunks: ['search'],
      inject: true,
      minify: {
        html5: true,
        collapseWhitespace: true,
        preserveLineBreaks: false,
        minifyCSS: true,
        minifyJS: true,
        removeComments: false
      }
    })
  ]
};
```